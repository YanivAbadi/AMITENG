<!DOCTYPE html>
<html dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>משחק לימוד אנגלית</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: #f0f8ff;
            direction: rtl;
        }
        .game-container {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin: 2rem;
            text-align: center;
            max-width: 800px;
            width: 90%;
        }
        .word {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            color: #2c3e50;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }
        .word:hover {
            color: #3498db;
        }
        .options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        .option {
            padding: 1rem;
            margin: 0.5rem;
            border: none;
            border-radius: 5px;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }
        .option:hover {
            background-color: #2980b9;
            transform: scale(1.05);
        }
        .score {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: #34495e;
        }
        .correct {
            background-color: #2ecc71 !important;
        }
        .incorrect {
            background-color: #e74c3c !important;
        }
        .speaker-icon {
            cursor: pointer;
            width: 24px;
            height: 24px;
            fill: #2c3e50;
        }
        .speaker-icon:hover {
            fill: #3498db;
        }
        .progress {
            width: 100%;
            height: 10px;
            background-color: #eee;
            border-radius: 5px;
            margin-bottom: 1rem;
        }
        .progress-bar {
            height: 100%;
            background-color: #3498db;
            border-radius: 5px;
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="score">ניקוד: <span id="score">0</span> מתוך <span id="total">0</span></div>
        <div class="progress">
            <div class="progress-bar" id="progress"></div>
        </div>
        <div class="word" id="current-word-container">
            <span id="current-word"></span>
            <svg class="speaker-icon" viewBox="0 0 24 24" onclick="speakWord()">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        </div>
        <div class="options" id="options"></div>
    </div>

    <script>
        const words = [
            {english: "ancient", hebrew: "עתיק"},
            {english: "article", hebrew: "מאמר"},
            {english: "as if", hebrew: "כאילו ש-"},
            {english: "attach", hebrew: "לחבר, לצרף"},
            {english: "attempt", hebrew: "לנסות"},
            {english: "based on", hebrew: "מבוסס על"},
            {english: "borrow", hebrew: "לקחת בהשאלה"},
            {english: "bring luck", hebrew: "להביא למישהו מזל"},
            {english: "care", hebrew: "להיות איכפת"},
            {english: "colleague", hebrew: "קולגה, עמית"},
            {english: "consider", hebrew: "להחשיב את ... כ-"},
            {english: "contrast", hebrew: "הבדל, למצוא את ההבדל"},
            {english: "cut", hebrew: "חתך/שריטה, לחתוך"},
            {english: "defend", hebrew: "להגן"},
            {english: "deny", hebrew: "להכחיש"},
            {english: "dive", hebrew: "לצלול"},
            {english: "duty", hebrew: "תפקיד, חובה"},
            {english: "elementary", hebrew: "יסודי, בסיסי"},
            {english: "elevator", hebrew: "מעלית"},
            {english: "every single", hebrew: "כל אחד ואחד"},
            {english: "excitement", hebrew: "התרגשות"},
            {english: "favor", hebrew: "טובה"},
            {english: "find it funny", hebrew: "לחשוב שזה מצחיק"},
            {english: "fire", hebrew: "אש/שריפה, לירות"},
            {english: "for instance", hebrew: "לדוגמה"},
            {english: "forgive", hebrew: "לסלוח"},
            {english: "gather", hebrew: "לאסוף"},
            {english: "give a call", hebrew: "להתקשר למישהו"},
            {english: "happiness", hebrew: "שמחה"},
            {english: "hardly", hebrew: "בקושי"},
            {english: "hit", hebrew: "להיט"},
            {english: "importance", hebrew: "חשיבות"},
            {english: "jar", hebrew: "צנצנת"},
            {english: "joke", hebrew: "בדיחה"},
            {english: "laugh at", hebrew: "לצחוק על"},
            {english: "mean", hebrew: "זדוני, מרושע"},
            {english: "midday", hebrew: "צהריים"},
            {english: "mind", hebrew: "מוח, לשים לב"},
            {english: "nowadays", hebrew: "בימינו"},
            {english: "play a trick on", hebrew: "לעשות תעלול ל-"},
            // ... המשך הרשימה
            {english: "understanding", hebrew: "הבנה"}
        ];

        let currentWordIndex = 0;
        let score = 0;
        let currentWord = null;

        function speakWord() {
            if (!currentWord) return;
            
            const utterance = new SpeechSynthesisUtterance(currentWord.english);
            utterance.lang = 'en-US';
            utterance.rate = 0.8;
            utterance.pitch = 1;
            
            speechSynthesis.cancel();
            speechSynthesis.speak(utterance);
        }

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function getRandomOptions(correctAnswer) {
            const otherWords = words.filter(word => word.hebrew !== correctAnswer);
            const randomOptions = shuffleArray([...otherWords]).slice(0, 4);
            const allOptions = [...randomOptions, {hebrew: correctAnswer}];
            return shuffleArray(allOptions);
        }

        function updateProgress() {
            const progress = (currentWordIndex / words.length) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function checkAnswer(selectedOption, correctAnswer, button) {
            const allButtons = document.querySelectorAll('.option');
            allButtons.forEach(btn => btn.disabled = true);

            if (selectedOption === correctAnswer) {
                button.classList.add('correct');
                score++;
                setTimeout(() => nextWord(), 1000);
            } else {
                button.classList.add('incorrect');
                const correctButton = Array.from(allButtons).find(btn => btn.textContent === correctAnswer);
                correctButton.classList.add('correct');
                setTimeout(() => nextWord(), 2000);
            }

            document.getElementById('score').textContent = score;
        }

        function nextWord() {
            if (currentWordIndex >= words.length) {
                alert(`המשחק הסתיים! הניקוד הסופי שלך הוא: ${score} מתוך ${words.length}`);
                return;
            }

            currentWord = words[currentWordIndex];
            document.getElementById('current-word').textContent = currentWord.english;
            document.getElementById('total').textContent = words.length;

            const options = getRandomOptions(currentWord.hebrew);
            const optionsContainer = document.getElementById('options');
            optionsContainer.innerHTML = '';

            options.forEach(option => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = option.hebrew;
                button.onclick = () => checkAnswer(option.hebrew, currentWord.hebrew, button);
                optionsContainer.appendChild(button);
            });

            updateProgress();
            speakWord();
            
            currentWordIndex++;
        }

        document.getElementById('current-word').onclick = speakWord;
        nextWord();
    </script>
</body>
</html>
